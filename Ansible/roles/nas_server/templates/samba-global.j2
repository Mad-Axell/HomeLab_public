# Samba Global Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY
# Generated on: {{ ansible_date_time.iso8601 }}

#======================= Global Settings =======================

[global]
    include = registry
    include = /etc/samba/shares/*.confs

#    security = {{ samba_security }}
#    server string = %h server (Samba, Ubuntu)
#    syslog = 0
#    passdb backend = tdbsam
#    pam password change = Yes
#    map archive = No
#    map hidden = No
#    map read only = No
#    map system = No
#    store dos attributes = Yes


## Browsing/Identification ###

    workgroup = {{ samba_workgroup }}

#### Networking ####

;   interfaces = 127.0.0.0/8 eth0
;   bind interfaces only = yes

#### Debugging/Accounting ####

    log file = /var/log/samba/log.%m
    max log size = 1000
    logging = file
    panic action = /usr/share/samba/panic-action %d

####### Authentication #######

    server role = standalone server
    obey pam restrictions = yes
    unix password sync = yes

    passwd program = /usr/bin/passwd %u
    passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .

    pam password change = yes
    map to guest = bad user

########## Domains ###########

;   logon path = \\%N\profiles\%U
;   logon drive = H:
;   logon script = logon.cmd
;   add user script = /usr/sbin/useradd --create-home %u
;   add machine script  = /usr/sbin/useradd -g machines -c "%u machine account" -d /var/lib/samba -s /bin/false %u
;   add group script = /usr/sbin/addgroup --force-badname %g

############ Misc ############

    usershare allow guests = yes


#======================= Share Definitions =======================

[homes]
   comment = Home Directories
   browseable = no
   read only = yes
   create mask = 0700
   directory mask = 0700
   valid users = %S