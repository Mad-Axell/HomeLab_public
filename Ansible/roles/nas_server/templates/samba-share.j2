# Samba Share Configuration: {{ item.name }}
# Generated by Ansible - DO NOT EDIT MANUALLY
# Generated on: {{ ansible_date_time.iso8601 }}

[{{ item.name }}]
    comment = {{ item.comment | default('Samba Share') }}
    path = {{ item.path }}
    browseable = {{ item.browseable | default(item.browsable | default(true)) | lower }}
    writable = {{ item.writable | default(true) | lower }}
    read only = {{ item.read_only | default(false) | lower }}
    public = {{ item.public | default(false) | lower }}
    guest ok = {{ item.guest_ok | default(false) | lower }}
{% if item.create_mask is defined %}
    create mask = {{ item.create_mask }}
{% endif %}
{% if item.directory_mask is defined %}
    directory mask = {{ item.directory_mask }}
{% endif %}
{% if item.force_user is defined %}
    force user = {{ item.force_user }}
{% endif %}
{% if item.force_group is defined %}
    force group = {{ item.force_group }}
{% endif %}
{% if item.valid_users is defined %}
    valid users = {{ item.valid_users | join(', ') }}
{% endif %}
{% if item.write_list is defined %}
    write list = {{ item.write_list | join(', ') }}
{% endif %}
{% if item.setgid is defined and item.setgid %}
    force group = {{ item.force_group | default('root') }}
    create mask = {{ item.create_mask | default('0664') }}
    directory mask = {{ item.directory_mask | default('0775') }}
{% endif %}
