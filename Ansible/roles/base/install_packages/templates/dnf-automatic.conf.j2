# Automatic Security Updates Configuration for DNF (RHEL 8+)
# Конфигурация автоматических обновлений безопасности для DNF (RHEL 8+)
# Managed by Ansible - DO NOT EDIT MANUALLY
# Управляется Ansible - НЕ РЕДАКТИРУЙТЕ ВРУЧНУЮ

[commands]
# What kind of upgrade to perform / Какой тип обновления выполнять
{% if security_updates_only | bool %}
upgrade_type = security
{% else %}
upgrade_type = default
{% endif %}

# Whether to install updates automatically or just download them
# Устанавливать ли обновления автоматически или только загружать их
{% if autoupdates_download_only | bool %}
apply_updates = no
download_updates = yes
{% else %}
apply_updates = yes
{% endif %}

# Maximum time in seconds to wait for the metalink connection
# Максимальное время ожидания соединения с metalink в секундах
random_sleep = 300

[emitters]
# Emit via email / Отправка через email
emit_via = stdio

# Name to use for the emitter / Имя для использования в отправителе
system_name = {{ ansible_hostname }}

[email]
# Address to send email messages to / Адрес для отправки email сообщений
email_to = root

# Address to send email messages from / Адрес отправителя email сообщений
email_from = root@{{ ansible_hostname }}

# SMTP server to use for email / SMTP сервер для email
email_host = localhost

[base]
# Enable debug messages / Включить отладочные сообщения
debuglevel = 1

# Skip packages with missing or bad GPG signatures
# Пропускать пакеты с отсутствующими или неправильными GPG подписями
{% if gpg_require_signed | bool %}
gpgcheck = 1
localpkg_gpgcheck = 1
repo_gpgcheck = 1
{% endif %}

# Download only updates from mirrors where metadata is verified
# Загружать только обновления с зеркал, где метаданные проверены
metadata_expire = 21600

